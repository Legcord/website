---
const { question, answer } = Astro.props;
---

<div class="bg-gray-800 rounded-lg overflow-hidden">
  <button class="w-full text-left p-4 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300">
    <div class="flex justify-between items-center">
      <h3 class="text-lg font-semibold text-white">{question}</h3>
      <svg class="w-5 h-5 text-white transform transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </div>
  </button>
  <div class="max-h-0 overflow-hidden transition-all duration-300">
    <p class="p-4 text-gray-300" set:html={answer}></p>
  </div>
</div>

<script>
  const faqItems = document.querySelectorAll('.bg-gray-800');
  faqItems.forEach(item => {
    const button = item.querySelector('button');
    const content = item.querySelector('div[class^="max-h-0"]');
    const svg = item.querySelector('svg');

    button.addEventListener('click', () => {
      content.classList.toggle('max-h-0');
      content.classList.toggle('max-h-96');
      svg.classList.toggle('rotate-180');
    });
  });
</script>