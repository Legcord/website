---
const { id, image, title } = Astro.props;
import { Image } from 'astro:assets';
---

<div id={id} class="fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center hidden">
  <div class="relative bg-gray-800 rounded-lg max-w-3xl max-h-[90vh] overflow-hidden">
    <button class="absolute top-0 right-0 text-white text-3xl font-bold hover:text-gray-300 transition duration-300 w-10 h-10 flex items-center justify-center bg-black bg-opacity-50" aria-label="Close modal">
      &times;
    </button>
    <Image 
      src={image} 
      alt={title} 
      width={800} 
      height={600} 
      class="w-full h-auto object-contain"
    />
  </div>
</div>

<script>
  document.querySelectorAll('[id^="modal-"]').forEach(modal => {
    const closeButton = modal.querySelector('button');
    closeButton.addEventListener('click', () => {
      modal.classList.add('hidden');
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) modal.classList.add('hidden');
    });
  });
</script>